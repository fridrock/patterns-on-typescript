# Его величество Синглтон
## Зачем нужен?
Паттерн синглтон наверное самый популярный и причина тому весьма проста, он очень простой. Вся суть паттерна заключается впрямом смысле в одном файле.
*Зачем он нужен?*
Иногда есть необходимость иметь объект, который можно создать только в одном экземпляре, примеров много, например State в современных SPA приложениях, или объект игрового окружения, с которым взаимодействуют игровые персонажи и враги.
## Реализация
```typescript
export class SingleTon{
    //создается приватная и статическая переменная такого же класса, как и необходимый объект
    private static instance:SingleTon;
    private value:number;
    // конструктор делается приватным, чтобы никто не мог создать дополнительную сущность класса
    private constructor(){
        //рандомно генерирует число
        this.value = Math.random();
    }
    //статический метод, который возвращает нам единственный объект этого класса
    public static getInstance(){
        //Если сущность еще не создана, то есть это первое обращение к этому классу, тогда проинициализируем instance
        if(this.instance === undefined){
            this.instance = new SingleTon();
        }
        //Иначе просто возвращаем созданную сущность
        return this.instance;
    }
    // возвращает рандомно сгенерированное число
    public getValue(){
        return this.value;
    }
}
```
## Тестируем
```typescript
import { SingleTon } from "./SingleTon";

let first_object = SingleTon.getInstance();
console.log(first_object.getValue());
let second_object = SingleTon.getInstance();
console.log(second_object.getValue());
```
**Вывод**
```text
0.055574497805287004
0.055574497805287004
```
Два раза напечаталось одно и то же число, значит переменные **first_object** и **second_object** получили один и тот же объект.
## Итог
Таким образом мы реализовали класс объекта, который может существовать в единственном экземпляре.